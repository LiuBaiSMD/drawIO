<mxfile host="app.diagrams.net" modified="2023-08-10T11:57:45.134Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36" etag="4Q6cX5M7VwsF436X6UNL" version="20.2.7" type="github">
  <diagram id="eLZ-JYpW6ZNR6CfY-RNm" name="第 1 页">
    <mxGraphModel dx="1469" dy="577" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-25" value="client" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-86" y="269" width="46" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-26" value="avatar" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="130" y="267" width="51" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-27" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-25" target="_kEM4Z1J20CTDJWCDQPz-26">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="257" y="454" as="sourcePoint" />
            <mxPoint x="307" y="404" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-28" value="申请进入多人场景" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-4" y="249" width="114" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-29" value="校验失败（好友、黑名单）" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="138" y="198" width="162" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-30" value="" style="endArrow=classic;html=1;rounded=0;exitX=1.041;exitY=0.446;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-26" target="_kEM4Z1J20CTDJWCDQPz-29">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="257" y="454" as="sourcePoint" />
            <mxPoint x="307" y="404" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-31" value="校验成功" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="204" y="265" width="66" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-32" value="" style="endArrow=classic;html=1;rounded=0;exitX=1.041;exitY=0.725;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.013;entryY=0.533;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-26" target="_kEM4Z1J20CTDJWCDQPz-33">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="264" y="471" as="sourcePoint" />
            <mxPoint x="364.9999999999998" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-33" value="playground" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="324" y="272" width="77" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-34" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-33" target="_kEM4Z1J20CTDJWCDQPz-35">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="264" y="471" as="sourcePoint" />
            <mxPoint x="403" y="237" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-35" value="1.redis setnx ：playgroundId ：gateaddr &amp;amp;&amp;amp; service addr&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;创建多人场景&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2.上一步失败，说明已经有多人场景，redis get playgroundId,获取gateaddr &amp;amp;&amp;amp; service addr&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;3.返回客户端gate addr 和service addr 或者其他情况error code&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="437" y="233" width="502" height="98" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-36" value="" style="endArrow=classic;html=1;rounded=0;exitX=-0.003;exitY=0.844;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-35">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="234" y="376" as="sourcePoint" />
            <mxPoint x="-61" y="303" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-37" value="申请进入" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-159" y="269" width="66" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-38" value="进入场景" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-152" y="451" width="66" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-39" value="client" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-80" y="449" width="46" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-41" value="gate" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="63" y="446" width="41" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-43" value="" style="endArrow=classic;html=1;rounded=0;exitX=1.049;exitY=0.446;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.028;entryY=0.471;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-39" target="_kEM4Z1J20CTDJWCDQPz-41">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="250" y="474" as="sourcePoint" />
            <mxPoint x="300" y="424" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-44" value="连上指定的gate" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-30" y="418" width="101" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-45" value="" style="endArrow=classic;html=1;rounded=0;exitX=1.053;exitY=0.391;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-41" target="_kEM4Z1J20CTDJWCDQPz-46">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="250" y="474" as="sourcePoint" />
            <mxPoint x="215" y="453" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-46" value="playground" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="361" y="444" width="77" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-47" value="进入多人场景，请求指定playground的service addr" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="72" y="426" width="287" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-48" value="不能找到多人场景，返回错误码" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="404" y="384" width="186" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-49" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="431" y="460" as="sourcePoint" />
            <mxPoint x="481" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-51" value="能找到多人场景,向avatar请求此玩家数据&lt;br&gt;（name、lv、equip）" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;rotation=0;" vertex="1" parent="1">
          <mxGeometry x="418" y="475" width="235" height="41" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-52" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.911;exitY=0.964;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.022;entryY=0.487;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-46" target="_kEM4Z1J20CTDJWCDQPz-53">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="234" y="445" as="sourcePoint" />
            <mxPoint x="585" y="469" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-53" value="avatar" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="632" y="452" width="51" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-54" value="playground" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="617" y="579" width="77" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-55" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.562;exitY=1.06;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.653;entryY=-0.048;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-53" target="_kEM4Z1J20CTDJWCDQPz-54">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="234" y="438" as="sourcePoint" />
            <mxPoint x="649" y="558" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-56" value="正式进入场景" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="586" y="511" width="90" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-57" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.001;exitY=0.419;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="_kEM4Z1J20CTDJWCDQPz-54">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="234" y="438" as="sourcePoint" />
            <mxPoint x="-22" y="567" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-58" value="CreateEntity" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="337" y="588" width="84" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-59" value="client" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-72" y="550" width="46" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_kEM4Z1J20CTDJWCDQPz-60" value="错误码、gate addr、playground service addr" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="34" y="308" width="257" height="26" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
